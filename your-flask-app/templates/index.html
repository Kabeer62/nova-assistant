<!DOCTYPE html>
<html>
<head>
  <title>Nova Assistant</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1><span class="hello">Enter the</span> <span class="nova">Nova Core</span>!</h1>
    <p>This is the Flask frontend interface.</p>
    <button id="startBtn">Start Assistant</button>
    <p id="statusMsg"></p>
  </div>

  <script>
    function startRecognition() {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'en-US';
    recognition.start();

    recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById('textOutput').innerText = transcript;
        
        // Send the transcript to your Flask server
        fetch('/process', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ text: transcript }),
        })
        .then(response => response.json())
        .then(data => {
            console.log('Nova says:', data.reply);
            // You can also use Web Speech API to speak the reply
            const synth = window.speechSynthesis;
            const utterThis = new SpeechSynthesisUtterance(data.reply);
            synth.speak(utterThis);
        });
    }
}
  </script>
</body>
</html>
